<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Off Campus Residences - University of Venda</title>
  <link rel="icon" type="image/png" href="/Assets/univen_logo.png">
  <link rel="shortcut icon" type="image/png" href="/Assets/univen_logo.png">
  <link rel="stylesheet" href="../css/OffCampus.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
  <!-- Header Section -->
  <div class="header-top">
    <a href="/dashboard" class="back-btn"><i class="fas fa-arrow-left"></i></a>
    <div class="logo">
      <img src="./Assets/univen_logo.png" alt="University Logo">
      <h1>Select Residence</h1>
    </div>
    <div class=""></div>
  </div>

  <div class="container">
    <div class="instructions">
      <h2><i class="fas fa-info-circle"></i> University of Venda - Off Campus Residence</h2>
      <p>Choose two residences</p>
      <p id="genderInfo"></p> <!-- Gender will display here -->
    </div>

    <!-- Residences -->
    <div class="card-container">
      <!-- M Sherly -->
      <div class="residence-card">
        <div class="card-header">
          <img class="card-image" src="../Assets/Msherly.png" alt="M Sherly Sibasa">
          <div class="card-title">
            <h2>M Sherly Sibasa</h2>
          </div>
        </div>
        <div class="card-body">
          <div class="card-features">
            <div class="card-feature"><i class="fas fa-users"></i><span>Mixed Years</span></div>
            <div class="card-feature"><i class="fas fa-bed"></i><span>Single/Double Rooms</span></div>
          </div>
          <button class="apply-btn" onclick="apply('M Sherly Sibasa')">
            <i class="fas fa-check-circle"></i> Select Residence
          </button>
        </div>
      </div>

      <!-- Muthathe -->
      <div class="residence-card">
        <div class="card-header">
          <img class="card-image" src="../Assets/Muthathe.png" alt="Muthathe">
          <div class="card-title">
            <h2>Muthathe Residence</h2>
          </div>
        </div>
        <div class="card-body">
          <div class="card-features">
            <div class="card-feature"><i class="fas fa-users"></i><span>Mixed Years</span></div>
            <div class="card-feature"><i class="fas fa-bed"></i><span>Single/Double Rooms</span></div>
          </div>
          <button class="apply-btn" onclick="apply('Muthathe Residence')">
            <i class="fas fa-check-circle"></i> Select Residence
          </button>
        </div>
      </div>

      <!-- Simeka -->
      <div class="residence-card">
        <div class="card-header">
          <img class="card-image" src="../Assets/Simeka.png" alt="Simeka Heights">
          <div class="card-title">
            <h2>Simeka Heights</h2>
          </div>
        </div>
        <div class="card-body">
          <div class="card-features">
            <div class="card-feature"><i class="fas fa-users"></i><span>Mixed Years</span></div>
            <div class="card-feature"><i class="fas fa-bed"></i><span>Single/Double Rooms</span></div>
          </div>
          <button class="apply-btn" onclick="apply('Simeka Heights')">
            <i class="fas fa-check-circle"></i> Select Residence
          </button>
        </div>
      </div>



      <!-- Emlanjeni Residence -->
      <div class="residence-card">
        <div class="card-header">
          <img class="card-image" src="../Assets/Emlanjeni.png" alt="Elamjeni Residence">
          <div class="card-title">
            <h2>Emlanjeni Residence</h2>
          </div>
        </div>
        <div class="card-body">
          <div class="card-features">
            <div class="card-feature"><i class="fas fa-users"></i><span>Mixed Years</span></div>
            <div class="card-feature"><i class="fas fa-bed"></i><span>Single/Double Rooms</span></div>
          </div>
          <button class="apply-btn" onclick="apply('Emlanjeni Residence')">
            <i class="fas fa-check-circle"></i> Select Residence
          </button>
        </div>
      </div>

      <!-- Maphula -->
      <div class="residence-card">
        <div class="card-header">
          <img class="card-image" src="../Assets/Maphula.png" alt="Maphula Residence">
          <div class="card-title">
            <h2>Maphula Residence</h2>
          </div>
        </div>
        <div class="card-body">
          <div class="card-features">
            <div class="card-feature"><i class="fas fa-users"></i><span>Mixed Years</span></div>
            <div class="card-feature"><i class="fas fa-bed"></i><span>Single Rooms</span></div>
          </div>
          <button class="apply-btn" onclick="apply('Maphula Residence')">
            <i class="fas fa-check-circle"></i> Select Residence
          </button>
        </div>
      </div>
      
      <!-- Grand Royale-->
      <div class="residence-card">
        <div class="card-header">
          <img class="card-image" src="../Assets/Royale.png" alt="Grand Royale">
          <div class="card-title">
            <h2>Grand Royale</h2>
          </div>
        </div>
        <div class="card-body">
          <div class="card-features">
            <div class="card-feature"><i class="fas fa-users"></i><span>Mixed Years</span></div>
            <div class="card-feature"><i class="fas fa-bed"></i><span>Single Rooms</span></div>
          </div>
          <button class="apply-btn" onclick="apply('Grand Royale')">
            <i class="fas fa-check-circle"></i> Select Residence
          </button>
        </div>
      </div>

      <!-- 589 -->
      <div class="residence-card">
        <div class="card-header">
          <img class="card-image" src="../Assets/589.png" alt="589 Residence">
          <div class="card-title">
            <h2>589 Residence</h2>
          </div>
        </div>
        <div class="card-body">
          <div class="card-features">
            <div class="card-feature"><i class="fas fa-users"></i><span>Mixed Years</span></div>
            <div class="card-feature"><i class="fas fa-bed"></i><span>Single Rooms</span></div>
          </div>
          <button class="apply-btn" onclick="apply('589 Residence')">
            <i class="fas fa-check-circle"></i> Select Residence
          </button>
        </div>
      </div>
    </div>

    <!-- Applications Section -->
    <div class="applications-container">
      <div class="applications-header">
        <h2><i class="fas fa-list-check"></i> Your Applications</h2>
        <span id="applicationCount">0/2 Selected</span>
      </div>

      <div class="progress">
        <div class="progress-bar" id="progressBar">0%</div>
      </div>

      <ul class="applications-list" id="applications"></ul>

      <div class="btn-center">
        <button id="submitBtn" class="submit-btn" onclick="submitApplications()" disabled>
          <i class="fas fa-paper-plane"></i> Submit Applications
        </button>
      </div>

      <p class="note">You must select exactly 2 residences to submit your application.</p>
    </div>
  </div>

  <footer>
    <p>University of Venda &copy; 2025 | Residence Application System</p>
  </footer>

  <script>
    // Read gender from query parameter
    const params = new URLSearchParams(window.location.search);
    const gender = params.get("gender");
    if (gender) {
      document.getElementById("genderInfo").textContent =
        `You are applying as: ${gender.charAt(0).toUpperCase() + gender.slice(1)}`;
    }

    // Example apply() that attaches gender automatically
    function apply(residenceName) {
      const selectedGender = gender || "unspecified";
      console.log(`Selected residence: ${residenceName}, Gender: ${selectedGender}`);
      // Call your existing logic in OffCampus.js
      // Example: addApplication({ name: residenceName, gender: selectedGender });
    }
  </script>

  <script src="../js/on_off compus.js"></script>
</body>

</html>